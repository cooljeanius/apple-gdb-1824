
#
# Makefile.tpl, Makefile.in, Makefile
#   Copyright 2002 Free Software Foundation
#
# This file is part of GDB.
#
# This file is free software; you can redistribute it and/or modify
# it under the terms of the GNU General Public License as published by
# the Free Software Foundation; either version 2 of the License, or
# (at your option) any later version.
# 
# This program is distributed in the hope that it will be useful,
# but WITHOUT ANY WARRANTY; without even the implied warranty of
# MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
# GNU General Public License for more details.
# 
# You should have received a copy of the GNU General Public License
# along with this program; if not, write to the Free Software
# Foundation, Inc., 675 Mass Ave, Cambridge, MA 02139, USA.

SHELL = /bin/sh

CC = @CC@
CFLAGS = @CFLAGS@

CPP = @CPP@
CPPFLAGS = @CPPFLAGS@

AR = @AR@
AS = @CCAS@

AUTOCONF = @AUTOCONF@
AUTOGEN = @AUTOGEN@

prefix = @prefix@
exec_prefix = @exec_prefix@
bindir = @bindir@
libdir = @libdir@
datadir = @datadir@
datarootdir = @datarootdir@
mandir = @mandir@
infodir = @infodir@
includedir = @includedir@
srcdir = @srcdir@
abs_srcdir = @abs_srcdir@

man1dir = $(mandir)/man1
man2dir = $(mandir)/man2
man3dir = $(mandir)/man3
man4dir = $(mandir)/man4
man5dir = $(mandir)/man5
man6dir = $(mandir)/man6
man7dir = $(mandir)/man7
man8dir = $(mandir)/man8
man9dir = $(mandir)/man9
tooldir = $(exec_prefix)

subconfigure_args = @subconfigure_args@

# Should it be INSTALL = @INSTALL@ -c ?
# The old makefile passed the -c argument.
INSTALL = @INSTALL@
INSTALL_PROGRAM = $(INSTALL)
INSTALL_DATA = $(INSTALL)

# public targets
all: @all_subdirs@
install: @install_subdirs@

mostlyclean: @mostlyclean_subdirs@
clean: @clean_subdirs@

# These should always clean all sudirectories...
distclean: distclean-amd-udi distclean-misc distclean-msdos distclean-spu distclean-sparclite distclean-wince 
maintainer-clean: maintainer-clean-amd-udi maintainer-clean-misc maintainer-clean-msdos maintainer-clean-spu maintainer-clean-sparclite maintainer-clean-wince 
clean mostlyclean:
	-rm -f *~ core *.o a.out 
maintainer-clean distclean:
	-rm -f Makefile config.status *.log config.cache *~ core *.o a.out
	-find . -name .DS_Store -delete 

info:
install-info:
clean-info:
dvi:

# This should run the testsuite for each subdirectory:
check: check-amd-udi check-misc check-msdos check-spu check-sparclite check-wince 

.PHONY: all install clean mostlyclean distclean maintainer-clean
.PHONY: info install-info clean-info dvi check
.NOEXPORT:

# Rules for regenerating this Makefile
Makefile: $(srcdir)/Makefile.in config.status
	./config.status

$(srcdir)/Makefile.in: $(srcdir)/Makefile.tpl $(srcdir)/Makefile.def
	cd $(srcdir) && $(AUTOGEN) Makefile.def

config.status: $(srcdir)/configure
	./config.status --recheck

$(srcdir)/configure: $(srcdir)/configure.ac
	cd $(srcdir) && $(AUTOCONF)

## so subdirs can use automake if they want:
am--refresh:
	@:

# Miscellaneous variable setting
AR_FLAGS = qv
FLAGS_TO_PASS = \
	"CC=$(CC)" \
	"CFLAGS=$(CFLAGS)" \
	"CPP=$(CPP)" \
	"CPPFLAGS=$(CPPFLAGS)" \
	"AR=$(AR)" \
	"AR_FLAGS=$(AR_FLAGS)" \
	"AS=$(AS)" \
	"CROSS_CFLAGS=$(CROSS_CFLAGS)" \
	"TARGET_CFLAGS=$(TARGET_CFLAGS)" \
	"INCLUDES=$(INCLUDES)"

# Everything from here on down is generated by FOR loops in autogen.

# Glue for all.

all-amd-udi: configure-amd-udi
	cd amd-udi && $(MAKE) $(FLAGS_TO_PASS) all
.PHONY: all-amd-udi

all-misc: configure-misc
	cd misc && $(MAKE) $(FLAGS_TO_PASS) all
.PHONY: all-misc

all-msdos: configure-msdos
	cd msdos && $(MAKE) $(FLAGS_TO_PASS) all
.PHONY: all-msdos

all-spu: configure-spu
	cd spu && $(MAKE) $(FLAGS_TO_PASS) all
.PHONY: all-spu

all-sparclite: configure-sparclite
	cd sparclite && $(MAKE) $(FLAGS_TO_PASS) all
.PHONY: all-sparclite

all-wince: configure-wince
	cd wince && $(MAKE) $(FLAGS_TO_PASS) all
.PHONY: all-wince

# Glue for install.

install-amd-udi: configure-amd-udi
	cd amd-udi && $(MAKE)  install
.PHONY: install-amd-udi

install-misc: configure-misc
	cd misc && $(MAKE)  install
.PHONY: install-misc

install-msdos: configure-msdos
	cd msdos && $(MAKE)  install
.PHONY: install-msdos

install-spu: configure-spu
	cd spu && $(MAKE)  install
.PHONY: install-spu

install-sparclite: configure-sparclite
	cd sparclite && $(MAKE)  install
.PHONY: install-sparclite

install-wince: configure-wince
	cd wince && $(MAKE)  install
.PHONY: install-wince

# Glue for mostlyclean.

mostlyclean-amd-udi: configure-amd-udi
	cd amd-udi && $(MAKE)  mostlyclean
.PHONY: mostlyclean-amd-udi

mostlyclean-misc: configure-misc
	cd misc && $(MAKE)  mostlyclean
.PHONY: mostlyclean-misc

mostlyclean-msdos: configure-msdos
	cd msdos && $(MAKE)  mostlyclean
.PHONY: mostlyclean-msdos

mostlyclean-spu: configure-spu
	cd spu && $(MAKE)  mostlyclean
.PHONY: mostlyclean-spu

mostlyclean-sparclite: configure-sparclite
	cd sparclite && $(MAKE)  mostlyclean
.PHONY: mostlyclean-sparclite

mostlyclean-wince: configure-wince
	cd wince && $(MAKE)  mostlyclean
.PHONY: mostlyclean-wince

# Glue for clean.

clean-amd-udi: configure-amd-udi
	cd amd-udi && $(MAKE)  clean
.PHONY: clean-amd-udi

clean-misc: configure-misc
	cd misc && $(MAKE)  clean
.PHONY: clean-misc

clean-msdos: configure-msdos
	cd msdos && $(MAKE)  clean
.PHONY: clean-msdos

clean-spu: configure-spu
	cd spu && $(MAKE)  clean
.PHONY: clean-spu

clean-sparclite: configure-sparclite
	cd sparclite && $(MAKE)  clean
.PHONY: clean-sparclite

clean-wince: configure-wince
	cd wince && $(MAKE)  clean
.PHONY: clean-wince

# Glue for distclean.

distclean-amd-udi: configure-amd-udi
	-cd amd-udi && $(MAKE)  distclean
.PHONY: distclean-amd-udi

distclean-misc: configure-misc
	-cd misc && $(MAKE)  distclean
.PHONY: distclean-misc

distclean-msdos: configure-msdos
	-cd msdos && $(MAKE)  distclean
.PHONY: distclean-msdos

distclean-spu: configure-spu
	-cd spu && $(MAKE)  distclean
.PHONY: distclean-spu

distclean-sparclite: configure-sparclite
	-cd sparclite && $(MAKE)  distclean
.PHONY: distclean-sparclite

distclean-wince: configure-wince
	-cd wince && $(MAKE)  distclean
.PHONY: distclean-wince

# Glue for maintainer-clean.

maintainer-clean-amd-udi: configure-amd-udi
	-cd amd-udi && $(MAKE)  maintainer-clean
.PHONY: maintainer-clean-amd-udi

maintainer-clean-misc: configure-misc
	-cd misc && $(MAKE)  maintainer-clean
.PHONY: maintainer-clean-misc

maintainer-clean-msdos: configure-msdos
	-cd msdos && $(MAKE)  maintainer-clean
.PHONY: maintainer-clean-msdos

maintainer-clean-spu: configure-spu
	-cd spu && $(MAKE)  maintainer-clean
.PHONY: maintainer-clean-spu

maintainer-clean-sparclite: configure-sparclite
	-cd sparclite && $(MAKE)  maintainer-clean
.PHONY: maintainer-clean-sparclite

maintainer-clean-wince: configure-wince
	-cd wince && $(MAKE)  maintainer-clean
.PHONY: maintainer-clean-wince

# Glue for check.

check-amd-udi: configure-amd-udi
	cd amd-udi && $(MAKE)  check
.PHONY: check-amd-udi

check-misc: configure-misc
	cd misc && $(MAKE)  check
.PHONY: check-misc

check-msdos: configure-msdos
	cd msdos && $(MAKE)  check
.PHONY: check-msdos

check-spu: configure-spu
	cd spu && $(MAKE)  check
.PHONY: check-spu

check-sparclite: configure-sparclite
	cd sparclite && $(MAKE)  check
.PHONY: check-sparclite

check-wince: configure-wince
	cd wince && $(MAKE)  check
.PHONY: check-wince

# Glue for configure.

configure-amd-udi: amd-udi/Makefile
amd-udi/Makefile: config.status
	test -d amd-udi || mkdir amd-udi ; \
	unset CPP && cd amd-udi && $(abs_srcdir)/amd-udi/configure $(subconfigure_args)/amd-udi
.PHONY: configure-amd-udi

configure-misc: misc/Makefile
misc/Makefile: config.status
	test -d misc || mkdir misc ; \
	unset CPP && cd misc && $(abs_srcdir)/misc/configure $(subconfigure_args)/misc
.PHONY: configure-misc

configure-msdos: msdos/Makefile
msdos/Makefile: config.status
	test -d msdos || mkdir msdos ; \
	unset CPP && cd msdos && $(abs_srcdir)/msdos/configure $(subconfigure_args)/msdos
.PHONY: configure-msdos

configure-spu: spu/Makefile
spu/Makefile: config.status
	test -d spu || mkdir spu ; \
	unset CPP && cd spu && $(abs_srcdir)/spu/configure $(subconfigure_args)/spu
.PHONY: configure-spu

configure-sparclite: sparclite/Makefile
sparclite/Makefile: config.status
	test -d sparclite || mkdir sparclite ; \
	unset CPP && cd sparclite && $(abs_srcdir)/sparclite/configure $(subconfigure_args)/sparclite
.PHONY: configure-sparclite

configure-wince: wince/Makefile
wince/Makefile: config.status
	test -d wince || mkdir wince ; \
	unset CPP && cd wince && $(abs_srcdir)/wince/configure $(subconfigure_args)/wince
.PHONY: configure-wince

